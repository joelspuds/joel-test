{% set showExternalNav = true %}
{% set activeNavItem = 'applications' %}
{% set navArea = 'personal' %}
{% set applicationsLink = '#' %}
{% set homeLink = '#' %}
{% set reviewsLink = '#' %}
{% set userName = 'John  Doe' %}
{% set hideAccountLinks = true %}
{% extends 'layouts/bulma-ufs.layout.njk' %}
{% set navType = 'external' %}
{% set isAdminUser = false %}
{% set pageTitle = OPPORTUNITY_TITLE_TAG + GLOBAL_TAG_TITLE_SUFFIX %}

{% set backLinkContents =  [{url:'/prototypes/molecules', text:'Back to molecules'}] %}

{% block content %}

    {% call components.bulmaRow(extraClass='') %}
        {% call components.bulmaColumnAny(size='is-two-thirds') %}
            {{ components.captionHeading(text='Search results for \'Oxford\'', caption='Add new Co-applicant') }}
        {%- endcall %}
    {%- endcall %}

    {% call components.bulmaRow(extraClass='', customID='main-content') %}


        {% call components.bulmaColumnAny(size='is-9') %}



            <p class="govuk-body">
                If you can't find a match{#, <a href="#" class="govuk-link">enter organisation details manually</a> or#} <a href="#" class="govuk-link">try and search again</a>.
            </p>

        {%- endcall %}
    {%- endcall %}



    {% call components.bulmaRow() %}

        {% call components.bulmaColumnAny(size='is-3') %}

            <div class="{#govuk-related-items govuk-related-items--flush#} u-space-t15">

              {#  {{ components.captionHeading(text='Filters and sorting', tag='h2', size='s') }}
#}
                {#<div class="filter">
                    <h2 class="filter__title">Filter by organisation type</h2>
                    <span class="filter__toggle"></span>
                    <ul class="filter__list u-clearfix ">
                        <li class="filter__item filter__item--small ">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input " id="filterDraft" type="checkbox" name="filterDraft" value="draft">
                                <label for="filterDraft" class="govuk-checkboxes__label u-display-ib">Academic</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item multiple-choice govuk-checkboxes--small filter__switch">
                                <input class="govuk-checkboxes__input " id="filterReady" type="checkbox" name="filterReady" value="draft">
                                <label for="filterReady" class="govuk-checkboxes__label u-display-ib">Third sector/charity</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input" id="filterOpen" type="checkbox" name="filterOpen" value="open">
                                <label for="filterOpen" class="govuk-checkboxes__label u-display-ib">Commercial</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input" id="filterPrePanel" type="checkbox" name="prePanel" value="prePanel">
                                <label for="filterPrePanel" class="govuk-checkboxes__label u-display-ib">Government</label>
                            </div>
                        </li>
                    </ul>
                </div>#}

                <div class="filter">
                    <h2 class="filter__title">Filter by country</h2>
                    <span class="filter__toggle"></span>
                    <ul class="filter__list u-clearfix ">
                        <li class="filter__item filter__item--small ">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input " id="filterOne" type="checkbox" name="filterOne" value="one">
                                <label for="filterOne" class="govuk-checkboxes__label u-display-ib">France</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input " id="filterTwo" type="checkbox" name="filterTwo" value="two">
                                <label for="filterTwo" class="govuk-checkboxes__label u-display-ib">Switzerland</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small ">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input " id="filterThree" type="checkbox" name="filterThree" value="one">
                                <label for="filtfilterThreeerOne" class="govuk-checkboxes__label u-display-ib">UK</label>
                            </div>
                        </li>
                        {#<li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input" id="filterThree" type="checkbox" name="filterThree" value="three">
                                <label for="filterThree" class="govuk-checkboxes__label u-display-ib">Asia</label>
                            </div>
                        </li>
                        <li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input" id="filterFour" type="checkbox" name="filterFour" value="four">
                                <label for="filterFour" class="govuk-checkboxes__label u-display-ib">Antarctica</label>
                            </div>
                        </li>#}
                        {#<li class="filter__item filter__item--small">
                            <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                <input class="govuk-checkboxes__input" id="filterFive" type="checkbox" name="filterFive" value="five">
                                <label for="filterFive" class="govuk-checkboxes__label u-display-ib">Criteria five</label>
                            </div>
                        </li>#}

                    </ul>
                </div>

                {#<div class="filter filter-toggle __filter-toggle--shut">
                    <button class="filter__title" type="button" onclick="toggleVisibility(this, 'toggleCouncilsList', 'js-hidden')" aria-expanded="false">Filter by council</button>
                    #}{#<h2 class="filter__title" tabindex="0" onclick="toggleVisibility(this, 'toggleCouncilsList', 'js-hidden')">Filter by council</h2>#}{#
                    <span class="filter__toggle"></span>
                    <ul class="filter__list u-clearfix js-hidden" id="toggleCouncilsList">
                        <ul class="filter__list u-clearfix" id="toggleCouncilsList">

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_0" type="checkbox" name="filterCouncils_0" value="Arts and Humanities Research Council">
                                    <label for="filterCouncils_0" class="govuk-checkboxes__label u-display-ib">AHRC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_1" type="checkbox" name="filterCouncils_1" value="Biotechnology and Biological Sciences Research Council">
                                    <label for="filterCouncils_1" class="govuk-checkboxes__label u-display-ib">BBSRC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_2" type="checkbox" name="filterCouncils_2" value="Economic and Social Research Council">
                                    <label for="filterCouncils_2" class="govuk-checkboxes__label u-display-ib">ESRC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_3" type="checkbox" name="filterCouncils_3" value="Engineering and Physical Sciences Research Council">
                                    <label for="filterCouncils_3" class="govuk-checkboxes__label u-display-ib">EPSRC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_4" type="checkbox" name="filterCouncils_4" value="Innovate UK">
                                    <label for="filterCouncils_4" class="govuk-checkboxes__label u-display-ib">Innovate UK</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_5" type="checkbox" name="filterCouncils_5" value="Medical Research Council">
                                    <label for="filterCouncils_5" class="govuk-checkboxes__label u-display-ib">MRC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_6" type="checkbox" name="filterCouncils_6" value="Natural Environment Research Council">
                                    <label for="filterCouncils_6" class="govuk-checkboxes__label u-display-ib">NERC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_7" type="checkbox" name="filterCouncils_7" value="Research England">
                                    <label for="filterCouncils_7" class="govuk-checkboxes__label u-display-ib">Research England</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_8" type="checkbox" name="filterCouncils_8" value="Science and Technology Facilities Council">
                                    <label for="filterCouncils_8" class="govuk-checkboxes__label u-display-ib">STFC</label>
                                </div>
                            </li>

                            <li class="filter__item filter__item--small govuk-clearfix">
                                <div class="govuk-checkboxes__item govuk-checkboxes--small multiple-choice filter__switch">
                                    <input class="govuk-checkboxes__input " id="filterCouncils_9" type="checkbox" name="filterCouncils_9" value="UK Research and Innovation">
                                    <label for="filterCouncils_9" class="govuk-checkboxes__label u-display-ib">UKRI</label>
                                </div>
                            </li>

                        </ul>
                    </ul>
                </div>#}

                <div>
                    {% call components.formGroup() %}
                        {{ components.button(text='Apply filters', extraClass='')}}
                    {%- endcall %}
                </div>

            </div>


        {%- endcall %}

        {% call components.bulmaColumnAny(size='is-9') %}

            <div class="responsive-table">

                <div class="govuk-inset-text  " style="border-color:red;">
                    <span class=""> You cannot add some of the organisations in the search results because a <strong>Co-applicant</strong> must be associated with an approved UK-based academic organisation. You can <a href="#">change their role</a> to add non-approved organisations.</span>
                </div>

                <table class="govuk-table _mega-table responsive-table__table">
                    <thead>
                        <tr class="govuk-table__header">
                            <th class="govuk-table__header">Organisation name and details</th>
                            <th class="govuk-table__header"><span class="govuk-visually-hidden">Action</span></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Center for Nanotechnology, Oxford</strong></span>
                                <span class="meta">
                                        {#Rämistrasse 101, 8092 #}Oxford, UK
                                        {#<br>
                                        <a href="#" class="govuk-link">www.cpe.ch</a>#}
                                    </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                {#<a class="govuk-link govuk-link--disabled" disabled="disabled">Select organisation</a>#}
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Cromley Oxford Dynamics Limited</strong></span>
                                <span class="meta">
                                        {#Rämistrasse 101, 8092 #}Reading, UK
                                        {#<br>
                                        <a href="#" class="govuk-link">www.zurich-canton-health.ch</a>#}
                                    </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Life Science Oxford, Zurich Office</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Zurich, Switzerland
                                    {#<br>
                                    <a href="#" class="govuk-link">www.life-science-zurish.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Oxford Brookes University</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Oxford, UK
                                    {#<br>
                                    <a href="#" class="govuk-link">www.ibm.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <a href="#" class="govuk-link">Select organisation</a>
                            </td>
                        </tr>
                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Oxford Zurich Hypermaterials Technology, Zurich</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Zurich, Switzerland
                                    {#<br>
                                    <a href="#" class="govuk-link">www.ethz.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Oxford Paris Plastics</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Paris, France
                                    {#<br>
                                    <a href="#" class="govuk-link">www.life-science-zurish.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr class="govuk-table__row--disabled">
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>Systems Research, Oxford</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Wallingford, UK
                                    {#<br>
                                    <a href="#" class="govuk-link">www.life-science-zurish.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="meta govuk-!-font-size-16">You cannot add this organisation</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="govuk-table__cell">
                                <span class="govuk-!-display-block"><strong>University of Oxford</strong></span>
                                <span class="meta">
                                    {#Rämistrasse 101, 8092 #}Oxford, UK
                                    {#<br>
                                    <a href="#" class="govuk-link">www.ibm.ch</a>#}
                                </span>
                            </td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <a href="#" class="govuk-link">Select organisation</a>
                            </td>
                        </tr>


                    {#{% for item in megaData %}
                        <tr class="mega-table_row-status--{{ item.status }}">
                            <td class="govuk-table__cell">{{ item.id }}</td>
                            <td class="govuk-table__cell mega-table__cell--fixed"><a href="#" class="govuk-link">{{ item.name }}</a></td>
                            <td class="govuk-table__cell"><a href="#" class="govuk-link">{{ item.funder }}</a></td>
                            #}{#<td class="govuk-table__cell govuk-table__cell--numeric"><a href="#" class="govuk-link">{{ item.org }}</a></td>#}{#
                            <td class="govuk-table__cell govuk-table__cell--numeric">{{ range(1, 10) | random }}</td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">{{ range(1, 10) | random }}</td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">£{{ range(100000, 1000000) | random | numberFormat }}</td>
                            <td class="govuk-table__cell govuk-table__cell--numeric">
                                <span class="mega-table_item-status">
                                    {% if item.status == 'overdue' %}In progress{% endif %}
                                    {% if item.status == 'progress' %}In progress{% endif %}
                                    {% if item.status == 'change' %}Change request{% endif %}
                                    {% if item.status == 'ready' %}Agreement ready{% endif %}
                                    {% if item.status == 'complete' %}Set-up complete{% endif %}
                                </span>
                                <span class="mega-table_item-meta">
                                    {{ range(1, 5) | random }} of 9 complete
                                </span>
                            </td>
                        </tr>
                    {% endfor %}#}
                    </tbody>
                </table>
            </div>

            {#{{ components.pagination(totalItems=46,currentPage=2) }}#}
            {#{{ components.pagination(totalItems=99,itemsPerPage=10,currentPage=4) }}#}

        {%- endcall %}

    {%- endcall %}

{% endblock %}

{% block bodyScripts %}
    <script>
      function toggleVisibility(_this, id, className) {
        // event.preventDefault();
        let toggleSwitch = _this;
        let toggleItem = document.getElementById(id);
        if (hasClass(toggleItem, className)) {
          toggleSwitch.classList.add('filter__title--closed');
          toggleItem.classList.remove(className);
          toggleSwitch.setAttribute('aria-expanded', true);
        }
        else  {
          toggleSwitch.classList.remove('filter__title--closed');
          toggleItem.classList.add(className);
          toggleSwitch.setAttribute('aria-expanded', false);
        }
        // return false;
      }
      function hasClass(target, className) {
        return new RegExp('(\\s|^)' + className + '(\\s|$)').test(target.className);
      }
    </script>
{% endblock %}
