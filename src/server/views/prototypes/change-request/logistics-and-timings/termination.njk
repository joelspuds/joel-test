{% set showExternalNav = true %}
{% set activeNavItem = 'awards' %}
{% set navArea = 'personal' %}
{% set applicationsLink = '#' %}
{% set homeLink = '#' %}
{% set reviewsLink = '#' %}
{% set accountSettingsLink = '' %}
{% set showExternalFurniture = false %}

{% set hideAccountLinks = true %}

{% extends 'layouts/bulma-ufs.layout.njk' %}

{% set isAdminUser = false %}
{% set loggedOut = false %}
{% set allData = allData if allData %}
{% set prototypeData = prototypeData if prototypeData %}

{% set userName = prototypeData.userName %}

{% set pageTitle = 'Termination' + GLOBAL_TAG_TITLE_SUFFIX %}
{% set backLinkContents =  [{url:'/prototypes/change-request/award-overview', text:'Back to award overview'}] %}

{% block content %}

    {% call components.bulmaRow() %}
        {% call components.bulmaColumnAny(size='is-two-thirds') %}
            {{ components.captionHeading(text='Termination', caption='Create award change request') }}
        {%- endcall %}
    {%- endcall %}

    {% call components.form(action='#', method='POST',name='submitForm') %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='is-7') %}

                <p class="govuk-body">Request to terminate the award before the end date is reached. </p>

            {%- endcall %}

        {%- endcall %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='is-7', extraClass='u-space-t20') %}

                <p class="govuk-body">
                    <strong>Current end date</strong>
                    <br>
                    <span>{{ prototypeData.currentEndDate }}</span>
                </p>

                <div class="govuk-form-group ">
                    <fieldset class="govuk-fieldset" role="group" aria-describedby="">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            <h2 class="govuk-fieldset__heading">Requested termination date</h2>
                        </legend>
                        <div class="govuk-date-input" id="transferDates">
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label" for="newDay1">Day</label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="newDay1" name="newDay1" type="text" pattern="[0-9]*" inputmode="numeric" value="{{ allData.transferDay }}">
                                </div>
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label" for="newMonth1">Month</label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="newMonth1" name="newMonth1" type="text" pattern="[0-9]*" inputmode="numeric" value="{{ allData.transferMonth }}">
                                </div>
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label" for="newYear1">Year</label>

                                    <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="newYear1" name="newYear1" type="text" pattern="[0-9]*" inputmode="numeric" value="{{ allData.transferYear }}">
                                </div>
                            </div>
                        </div>

                    </fieldset>
                </div>

            {%- endcall %}

        {%- endcall %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='is-7', extraClass='u-space-t20') %}
                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset" aria-describedby="contact-hint">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Reason for termination</legend>
                        <div class="govuk-radios" data-module="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="reason1" name="reasons" type="radio" value="Gone to employment">
                                <label class="govuk-label govuk-radios__label" for="reason1">Gone to employment</label>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="reason3" name="reasons" type="radio" value="Personal including illness">
                                <label class="govuk-label govuk-radios__label" for="reason3">Personal including illness</label>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="reason4" name="reasons" type="radio" value="Award holder deceased">
                                <label class="govuk-label govuk-radios__label" for="reason4">Award holder deceased</label>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="reason5" name="reasons" type="radio" value="Suitability">
                                <label class="govuk-label govuk-radios__label" for="reason5">Suitability</label>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="reason2" name="reasons" type="radio" value="Other" data-aria-controls="conditional-reasons-2">
                                <label class="govuk-label govuk-radios__label" for="reason2">Other</label>

                            </div>
                            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-reasons-2">
                                <div class="govuk-form-group">
                                    <label class="govuk-label" for="other">Please specify (optional)</label>
                                    <span class="govuk-hint">Do not include any personal or financial information.</span>
                                    <input class="govuk-input govuk-!-width-one-third" id="other" name="other" type="text">
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

            {%- endcall %}

        {%- endcall %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='is-7', extraClass='u-space-t20') %}

                <div class="govuk-form-group ">
                    <label class="govuk-label govuk-label govuk-label--s" for="justification">Justification</label>
                    <span class="govuk-hint">You must provide a reason for making this request</span>
                    <textarea class="govuk-textarea govuk-js-character-count" name="justification" id="justification" rows="6">{{ allData.justification }}</textarea>
                </div>

            {%- endcall %}

        {%- endcall %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='is-7', extraClass='u-space-t20') %}

                <div class="application-controls govuk-clearfix ">
                    <button type="submit" class="govuk-button application-controls__submit govuk-!-display-inline govuk-button--secondary" value="save" name="saveButton">Save</button>
                    &nbsp;
                    <button type="submit" class="govuk-button application-controls__submit govuk-!-display-inline" name="submitButton" value="submit">Check and submit</button>
                    <br><br><a href="/prototypes/change-request/create-type" class="govuk-link application-controls__cancel">Cancel and return to create award change request</a>
                </div>

            {%- endcall %}

        {%- endcall %}

    {%- endcall %}
    {% include '../../../layouts/partials/user-contact.njk' %}
{% endblock %}
{% block bodyScripts %}
    <script src="https://cdn.tiny.cloud/1/phk3goz7y02jvj65em0m21azcq1qr7abduimch9isoe4jkor/tinymce/5-dev/tinymce.min.js" referrerpolicy="origin"></script>
    <script>
        tinymce.init({
            selector: 'textarea',
            height: 300,
            menubar: false,
            tinydrive_dropbox_app_key: 'socw0soabe8fvpv',
            tinydrive_token_provider: '/prototypes/jwt',
            powerpaste_allow_local_images: true,
            plugins: [
                'lists link charmap preview anchor',
                'insertdatetime media table paste tinydrive code  wordcount '
            ],
            toolbar: 'formatselect | bold italic | numlist bullist ',
            content_css: [
                '//fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i',
                '/stylesheets/tinymce.css'
            ]
        });
    </script>
{% endblock %}


