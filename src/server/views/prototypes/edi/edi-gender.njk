{% set showExternalNav = true %}
{% set activeNavItem = '' %}
{% set navArea = 'profile' %}
{% set applicationsLink = '/prototypes/edi/applications' %}
{% set homeLink = '/prototypes/edi/home' %}
{% set reviewsLink = '#' %}
{% set hideAccountLinks = 'true' %}
{% set altProfilePagelink = '/prototypes/edi/profile' %}
{% set pageTitle = "EDI gender" %}
{% extends 'layouts/bulma-ufs.layout.njk' %}

{% set isAdminUser = false %}
{%  set loggedOut = false %}

{% set edit = edit if edit %}
{% set userData = userData if userData %}

{% set backToConfirm = backToConfirm if backToConfirm %}
{% if edit === 'true' %}
    {% set backLinkContents =  [{url:backToConfirm.url, text:backToConfirm.linkText}] %}
{% else %}
    {% set backLinkContents =  [{url:'/prototypes/edi/edi-sex', text:'Back to sex'}] %}
{% endif %}

{% block content %}

    {% call components.bulmaRow() %}

        {% call components.bulmaColumnAny(size='column is-full is-9-desktop is-9-widescreen') %}

            {{ components.captionHeading(text='Is the gender you identify with the same as your sex registered at birth?', caption='Equality, Diversity and Inclusion profile') }}

        {%- endcall %}

    {%- endcall %}

    <section class="section" id="mainContent">

        {% call components.form(action='#', method='POST',name='ediForm') %}

        {% call components.bulmaRow() %}

            {% call components.bulmaColumnAny(size='column is-8') %}

                <details class="govuk-details u-space-t20 js-only" data-module="govuk-details" role="group">
                    <summary class="govuk-details__summary" role="button" aria-controls="details-content-0" aria-expanded="false">
                        <span class="govuk-details__summary-text">Guidance for answering this question</span>
                    </summary>
                    <div class="govuk-details__text" id="details-content-0" aria-hidden="true">
                        <p class="govuk-body">It is up to you how you answer this question.</p>
                        <p class="govuk-body u-space-b5">
                            <strong>Select 'Yes' if:</strong>
                        </p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>you identify as female and your sex registered at birth was female</li>
                            <li>you identify as male and your sex registered at birth was male.</li>
                        </ul>
                        <p class="govuk-body u-space-b5">
                            <strong>Select 'No' if:</strong>
                        </p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>you now identify with a gender that differs from the sex recorded on your birth certificate - for example, transgender or non-binary.</li>
                        </ul>
                    </div>
                </details>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-visually-hidden">Select your gender</legend>
                        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="gender1" name="gender" type="radio" value="Yes" {% if userData.gender === "Yes" %} checked="checked" {% endif %}>
                                <label class="govuk-label govuk-radios__label" for="gender1">Yes</label>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="gender2" name="gender" type="radio" value="No" data-aria-controls="conditional-other" {% if userData.gender === "No" %} checked="checked" {% endif %}>
                                <label class="govuk-label govuk-radios__label" for="gender2">No</label>
                            </div>
                            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-other">
                                <div class="govuk-form-group">
                                    <label class="govuk-label" for="otherGender">Enter the term you use to describe your gender or leave blank if you prefer.</label>
                                    <input class="govuk-input govuk-!-width-one-third" id=otherGender" name="otherGender" type="text" spellcheck="false" value="{{ userData.otherGender }}">
                                </div>
                            </div>

                            <div class="govuk-radios__divider">or</div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="gender3" name="gender" type="radio" value="Prefer not to say" {% if userData.gender === "Prefer not to say" %} checked="checked" {% endif %}>
                                <label class="govuk-label govuk-radios__label" for="gender3">Prefer not to say</label>
                            </div>
                        </div>

                    </fieldset>
                </div>

                <details class="govuk-details u-space-t20 js-only" data-module="govuk-details" role="group">
                    <summary class="govuk-details__summary" role="button" aria-controls="details-content-0" aria-expanded="false">
                        <span class="govuk-details__summary-text">Why we ask this question</span>
                    </summary>
                    <div class="govuk-details__text" id="details-content-0" aria-hidden="true">
                        <p class="govuk-body">This question will help us check we have reached a representative section of society and understand if certain groups experience inequalities. It may not be important or relevant to you, but it is important to the person with that characteristic.</p>
                        <p class="govuk-body">The information you provide is kept anonymous, held securely by UKRI and will not be used to identify any individual. It will be separated from the selection process and will not affect any funding decisions regarding your applications. Your answer is only used for monitoring processes, to help us analyse results accurately and ensure people are treated fairly and according to their needs.</p>
                    </div>
                </details>


            {%- endcall %}

        {%- endcall %}

            {% call components.bulmaRow() %}
                {% call components.bulmaColumnAny(size='is-full') %}
                    <div class="application-controls govuk-clearfix">
                        {% if edit == 'true'  %}
                            {{ components.button(text='Save changes', extraClass="application-controls__submit")}}
                        {% else %}
                            {{ components.button(text='Save and continue', extraClass="application-controls__submit")}}
                        {% endif %}
                    </div>
                {%- endcall %}
            {%- endcall %}

        {%- endcall %} {# end form #}
    </section>

    {% include '../../layouts/partials/user-contact.njk' %}

{% endblock %}

{% block bodyScripts %}

{% endblock %}
